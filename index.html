<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script type="module">
    // const URL = "https://jsonplaceholder.typicode.com/users";

    // const getData2 = async (URL) => {
    //     const res = await fetch(URL);
    //     const data = await res.json();
    //     return data;
    // }

    // try {
    //     const data = await getData2(URL);
    //     console.log(data);
    // } catch (error) {
    //     console.log(error);
    // }

    const URL = 'https://jsonplaceholder.typicode.com/users';
    const getData = async (URL) => {
        const res = await fetch(URL);
        const data = await res.json();
        return data;
    };

    try {
        const newData = await getData(URL);
        console.log(newData);
        const cardBoxEl = document.querySelector('body');
        newData.forEach((element) => {
            const user = `
        <div class="card">
            <h3>Пользователь ${element.id}</h3>
            <p class="name">Имя: ${element.name}</p>
            <p class="address">Город: ${element.address.city}</p>
            <p class="username">Никнейм: ${element.username}</p>
            <p class="email">Email: ${element.email}</p>
            <p class="phone">Телефон: ${element.phone}</p>
            <p class="website">Веб-сайт: ${element.website}</p>
            <button class="btn_remove">Удалить пользователя</button>
        </div>
        `
            cardBoxEl.insertAdjacentHTML("beforeend", user)
        })
        const deleteBtn = document.querySelectorAll('.btn_remove');
        deleteBtn.forEach((button) => {
            button.addEventListener('click', () => {
                const userCard = button.closest('.card');
                userCard.remove();
            })
        })
    } catch (error) {
        console.error('Произошла ошибка');
    }
</script>

<body>
</body>

</html>